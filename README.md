# Assistant Bot

1. [For Developer](#for-developer)
2. [Role Management](#role-management)
3. [Channel Management](#channel-management)

## For Developer

* Tokenは**絶対に**pushしないでください (`.gitignore`記入済)

## Role Management

1. [ロール作成申請](#ロールの作成申請)
2. [ロール編集削除申請](#ロールの編集・削除申請)

※各機能使用時に行う動作などはかなり自由に設定できることが望ましいです。
例えば、特定メッセージのリアクション状況を確認して分岐、などが出来るととても良い。
(しかし、これは実質的にブロックプログラミングみたいなものなので、かなり難しそう)

### ロールの作成申請
特定のチャンネルの管理権限(以下Ownerロール。対象は変更可能)を持つ人が、自分の管理下のロールとして名称と色のみのロールを申請可能に。
(管理下のロールというのは例えば~/Helperなど、チャンネル主の手伝いをする人などに付与したいロールのこと。命名規則も変更可能にしたい)

### ロールの編集・削除申請
上記のロール作成申請が可能な人が申請可能。
名称や色の変更、ロールの削除を申請出来る。

任意の動作に対しては"承認が必要"、などを設定可能にしたい。
(ロールによって分岐する、単純に多数決にする、など出来ると良さそう)

なお、承認を"不要"に設定した場合はそのリスクを注意喚起する必要がありそう。
(ポップアップ的なイメージで)


## Channel Management

1. [チャンネル削除申請](#チャンネルの削除申請)
2. [チャンネル作成申請](#チャンネルの作成申請)
3. [チャンネル編集申請](#チャンネルの編集申請)
4. [一時的チャンネル作成申請](#一時的なチャンネル作成)

※こちらも、各機能使用時に行う動作などはかなり自由に設定できることが望ましいです。
なお、以下の内容を実現可能にするには、設定用GUIが無いとかなり不便ですが、botとしては実装が厳しいのかもしれません。

以下で出てくる"チャンネル"には、ボイスチャンネルも含みます。

### チャンネルの削除申請
Ownerロールを持っている人のみチャンネルの削除申請が可能に(承認が必要)

### チャンネルの作成申請
チャンネルの作成申請が可能に(承認が必要)

チャンネル作成申請時にどの情報を要求するか、どのロールを作成するか、などを設定できることが望ましい。
チャンネルの作成申請をした人にはOwnerロールを付与する。
また、作成したロールに関する、特定チャンネルの設定変更を可能にする。
(Ownerロールを持つ人は別のチャンネルの書き込み権限を得る、など)

Webhook専用チャンネルなどを作成するためには、Ownerロールを持つ人が作成出来るチャンネル用の設定項目を用意し、チャンネル作成先のカテゴリなどを変更可能にすることで可能？

なお、Ownerとそれ以外など、作成されるロールによって与える権限を変える必要がある。
(申請時にロールの色を指定をすることも可能にしたいが、実装が大変そう。サーバー管理者側で一律に設定出来るようにするしかないか？)

### チャンネルの編集申請
Ownerロールを持つ人が申請可能。
名称変更やチャンネルトピックの変更、Ownerロールの引き継ぎなどができると良いか？(詳細は未定)

### 一時的なチャンネル作成
一時的に利用するチャンネルの作成を可能に。
(配置するカテゴリなどを設定可能に。また、オプションとして
この機能自体の無効化や、この機能を使用可能なロールの指定を可能に)

一時的なチャンネルとして作成されたチャンネルは自動的にNSFWに設定し、閲覧は自己責任とする。(標準設定。変更可能)
また、作成されたチャンネルは6時間使用可能にし、次に申請が可能になるのは24時間先とする。(いずれも変更可能)

ユーザーが問題を起こした場合は、ユーザー単位での権限剥奪(bot側での自動拒否)を行えるように。
(これに関して、一定期間不可と永久不可の選択を可能に。基本的には一週間を想定しているが、設定で変更可能とするか、もしくは初めから期間指定の必要がある設計にする)

※NSFWに関して、Discordの仕様変更で誕生日の入力が必須となり、18歳以上でない場合は本人の意志に関わらずチャンネルを閲覧することが出来ないようになりました。そのため、もしかするとNSFWを標準設定にするのはふさわしくないかもしれない、と少し考えています。
